
#include <string>
#include "Pet.h"

//=============================================================================
// ▼ Constantes
// ----------------------------------------------------------------------------
//
//=============================================================================
namespace max
{
	unsigned int health;
	unsigned int cleanliness;
	unsigned int weight;
	unsigned int hunger;
	unsigned int happiness;
}

namespace variation
{
	unsigned int hunger = 1;
	unsigned int weight = 1;

	namespace happiness
	{
		const int feed  = 1;
		const int heal  = 1;
		const int clean = 1;
	}
}

//=============================================================================
// ▼ Fonctions primaires
// ----------------------------------------------------------------------------
//
//=============================================================================

//-----------------------------------------------------------------------------
// * Constructeur
//-----------------------------------------------------------------------------
Pet::Pet()
{

}

//-----------------------------------------------------------------------------
// * Destructeur
//-----------------------------------------------------------------------------
Pet::~Pet()
{

}

//-----------------------------------------------------------------------------
// * Generate
//-----------------------------------------------------------------------------
void Pet::generate()
{

}


//=============================================================================
// ▼ Accesseurs et moduleurs
// ----------------------------------------------------------------------------
//
//=============================================================================

//-----------------------------------------------------------------------------
// * Get name
//-----------------------------------------------------------------------------
std::string Pet::get_name()
{
	return name;
}

//-----------------------------------------------------------------------------
// * Set name
//-----------------------------------------------------------------------------
void Pet::set_name(std::string name)
{
	this->name = name;
}

//-----------------------------------------------------------------------------
// * Get generation
//-----------------------------------------------------------------------------
unsigned int Pet::get_generation()
{
	return generation;
}

//-----------------------------------------------------------------------------
// * Set generation
//-----------------------------------------------------------------------------
void Pet::set_generation(unsigned int generation)
{
	this->generation = generation;
}

//-----------------------------------------------------------------------------
// * Get weight
//-----------------------------------------------------------------------------
unsigned int Pet::get_weight()
{
	return weight;
}

//-----------------------------------------------------------------------------
// * Set weight
//-----------------------------------------------------------------------------
void Pet::set_weight(unsigned int weight)
{
	this->weight = weight;
}


//=============================================================================
// ▼ Category
// ----------------------------------------------------------------------------
// Description
//=============================================================================

//-----------------------------------------------------------------------------
// * Increase happiness
//-----------------------------------------------------------------------------
void Pet::change_happiness(int n)
{
	this->happiness += 1;
	if(this->happiness >= max::happiness) this->happiness = max::happiness;
}


//=============================================================================
// ▼ Actions
// ----------------------------------------------------------------------------
//
//=============================================================================

//-----------------------------------------------------------------------------
// * Feed
// Decrease hunger and increase weight.
// Increase happiness.
//-----------------------------------------------------------------------------
void Pet::feed(int nutrition)
{
	this->hunger += variation::hunger * nutrition;
	if(this->hunger > max::hunger) this->hunger = max::hunger;

	this->weight += variation::weight * nutrition;
	if(this->weight > max::weight) this->weight = max::weight;

	change_happiness(variation::happiness::feed);
}

//-----------------------------------------------------------------------------
// * Heal
// Set "health" attribute to max.
// Increase happiness.
//-----------------------------------------------------------------------------
void Pet::heal()
{
	this->health = max::health;

	change_happiness(variation::happiness::heal);
}

//-----------------------------------------------------------------------------
// * Wash
// Set "cleanliness" attribute to max.
// Increase happiness.
//-----------------------------------------------------------------------------
void Pet::clean()
{
	this->cleanliness = max::cleanliness;

	change_happiness(variation::happiness::clean);
}
